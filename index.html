<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
  body {
    margin: 0;
    text-align: center;
  }

  img {
    width: 450px;
    border-radius: 10px;
  }

  ul {
    padding: 0;
    margin: 20px auto 12px;
    list-style-type: none;
    display: flex;

    width: 450px;
  }

  li {
    flex-grow: 1;
    font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 200;
    color: #ccc;
  }

  li.selected {
    color: black;
  }
  </style>
</head>
<body>
  <ul>
    <li id=png  data-filename="bear.png" >PNG </li>
    <li id=jpeg data-filename="bear.jpg" >JPEG</li>
    <li id=webp data-filename="bear.webp">WebP</li>
  </ul>
  <img id=image src=bear.png>

  <script>
  const sleep = ms => new Promise(resolve => setTimeout(resolve, ms))

  const image = document.getElementById('image')
  const data = ['png', 'jpeg', 'webp'].map(id => document.getElementById(id))
  const selected = 'selected'

  main()

  async function main() {
    let lastElem = null
    while (true) {
      for (const elem of data) {
        image.src = elem.dataset.filename
        if (lastElem != null) { lastElem.classList.remove(selected) }
        elem.classList.add(selected)
        lastElem = elem

        await sleep(300)
      }
    }
  }
  </script>
</body>
</html>
